version: 2.1

jobs: # a basic unit of work in a run
  build: # runs not using `Workflows` must have a `build` job as entry point
    macos: # indicate that we are using the macOS executor
      xcode: 14.3.1
    
    steps: # a series of commands to run
      - checkout # pull down code from your version control system.
      - run:
        # run our tests using xcode's cli tool `xcodebuild` name: Run Unit Tests
          name: Run Unit Tests
          command: xcodebuild test -workspace Nasa.xcworkspace -scheme Nasa -destination 'platform=iOS Simulator,id=dvtdevice-DVTiOSDeviceSimulatorPlaceholder-iphonesimulator:placeholder,name=iPhone 14,OS=16.4' test
      - run:
        # build our application  
          name: Build Application
          command: xcodebuild -workspace Nasa.xcworkspace -scheme Nasa
